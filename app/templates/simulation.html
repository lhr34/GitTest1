<!-- templates/simulation.html -->
{% extends "base.html" %}

{% block content %}
<h1>Power Management Simulation</h1>
<div class="mb-3">
  <p><strong>Latest Sensor Reading:</strong> {{ latest_reading }} Watts</p>
  <p><strong>Control Action:</strong> {{ control_action }}</p>
</div>
<div class="mb-3">
  <h3>Data History</h3>
  {% if data_history %}
    <ul class="list-group">
      {% for d in data_history %}
        <li class="list-group-item">{{ d }} Watts</li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No data available.</p>
  {% endif %}
</div>
<div class="mb-3">
  <h3>Analysis Report</h3>
  <p>{{ report }}</p>
  {% if alerts %}
      <p><strong>Alerts:</strong> {{ alerts }}</p>
  {% else %}
      <p>No alerts.</p>
  {% endif %}
</div>
<form method="post" action="{{ url_for('simulation') }}">
  <button type="submit" class="btn btn-success">Simulate New Reading</button>
</form>
<form method="post" action="{{ url_for('reset_simulation') }}" class="mt-2">
  <button type="submit" class="btn btn-warning">Reset Data History</button>
</form>
{% endblock %}
